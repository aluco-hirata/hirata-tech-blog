{"pageProps":{"newPosts":[{"id":"k3mdnc_2s","createdAt":"2020-08-25T08:29:13.221Z","updatedAt":"2020-08-25T08:38:54.232Z","publishedAt":"2020-08-25T08:29:13.221Z","title":"next.js .env.localについて","category":[{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"author":[{"id":"tbrqefyvy","createdAt":"2020-08-24T03:13:02.664Z","updatedAt":"2020-08-24T03:18:24.123Z","publishedAt":"2020-08-24T03:13:02.664Z","author":"平田"}],"body":"<p>Next.jsバージョン9.4以降から、環境変数の取り扱いが変更になっているようです。<br>サーバー側でに渡す環境変数は、.env.localで設定すれば良くて、<br>クライアント側からアクセスしたい環境変数は、.env.localに記載後、<br>next.config.jsで再度、設定するといい<br><br>.env.local</p><pre><code>API_KEY=XXXXXXXX\nEND_POINT=XXXXXXX\nSLACK_WEBHOOK_URL=XXXXXXXXX</code></pre><p><br>next.config.js</p><pre><code>module.exports = { \n  env：{ \n    SLACK_WEBHOOK_URL:process.env.SLACK_WEBHOOK_URL\n  }\n};</code></pre><p><br><br>あれ、これでもconsoleから見えちゃう。。。</p>"},{"id":"k7rffivyr","createdAt":"2020-08-20T07:33:42.884Z","updatedAt":"2020-08-24T03:21:32.137Z","publishedAt":"2020-08-20T07:33:42.884Z","title":"firebase cloud functions　無料プランについて","category":[{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"author":[{"id":"jjgqptw0n","createdAt":"2020-08-24T03:18:33.558Z","updatedAt":"2020-08-24T03:18:33.558Z","publishedAt":"2020-08-24T03:18:33.558Z","author":"社長"}],"body":"<p>firebaseの無料プランで学習用にcloud functionの設定をしている際、</p><pre><code>firebase deploy</code></pre><p>すると、</p><pre><code>Error: Cloud Functions deployment requires the pay-as-you-go (Blaze) billing plan. To upgrade your project, visit the following URL:</code></pre><p><br>と有料プランにしないと、使えないよと言われます。<br>対策としては、<br>functionsフォルダのpackage.jsonの下記部分を</p><pre><code> &quot;engines&quot;: {\n  &quot;node&quot;: &quot;10&quot;\n },</code></pre><p><br></p><pre><code> &quot;engines&quot;: {\n &quot;node&quot;: &quot;8&quot;\n },</code></pre><p><br>に変更することで、2021-03-15までは使えるようです。</p>"},{"id":"rbsqqykza","createdAt":"2020-08-19T09:20:13.922Z","updatedAt":"2020-08-24T03:21:22.099Z","publishedAt":"2020-08-19T09:20:13.922Z","title":"クロージャについて","category":[{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"author":[{"id":"tbrqefyvy","createdAt":"2020-08-24T03:13:02.664Z","updatedAt":"2020-08-24T03:18:24.123Z","publishedAt":"2020-08-24T03:13:02.664Z","author":"平田"}],"body":"<h2 id=\"h5c469d82e8\">・クロージャー</h2><p>定義・・・レキシカルスコープの変数を関数が使用している状態<br></p><h3 id=\"h20feb2cff2\">ケース01・・・プライベート変数の定義</h3><p>グローバルに定義するとどこからでも参照できるため、関数スコープ内に変数を定義<br><br>・グローバルに定義</p><pre><code>let num = 0\nconsole.log(&quot;Global&quot;, num);\n\nincrement()\nincrement()\nincrement()\n\nfunction increment() {\n    num = num + 1\n    console.log(num);\n}</code></pre><p><br>・クロージャー使用</p><pre><code>function incrementFactory() {\n    let num = 0\n\n    function increment() {\n        num = num + 1\n        console.log(num);\n    }\n    return increment\n}\n\nconst increment = incrementFactory()\nincrement()\nincrement()\nincrement()</code></pre><p><br></p><h3 id=\"hab1d653a0d\">ケース02・・・動的関数</h3><pre><code>function addNumberFactory(num) {\n    function addNumber(value) {\n        return num + value;\n    }\n    return addNumber;\n}\n\nconst add5 = addNumberFactory(5);\nconst result = add5(5);\nconst result = add5(10);</code></pre><p><br>変数numを固定した関数を生成できます<br><br><br></p>"}],"categories":{"contents":[{"id":"evvbimxg3","createdAt":"2020-08-24T03:18:47.406Z","updatedAt":"2020-08-28T05:19:58.930Z","publishedAt":"2020-08-24T03:18:47.406Z","category":"キャンプ","url":"camp"},{"id":"wxg7y3xgl","createdAt":"2020-08-28T05:19:41.192Z","updatedAt":"2020-08-28T05:19:41.192Z","publishedAt":"2020-08-28T05:19:41.192Z","category":"テストカテゴリ","url":"test-category"},{"id":"tvu-5dzcj","createdAt":"2020-07-29T06:42:51.131Z","updatedAt":"2020-08-27T02:10:16.521Z","publishedAt":"2020-07-29T06:42:51.131Z","category":"お知らせ","url":"info"},{"id":"23fpo7oop","createdAt":"2020-07-29T06:42:39.341Z","updatedAt":"2020-08-27T02:10:23.591Z","publishedAt":"2020-07-29T06:42:39.341Z","category":"デザイン","url":"design"},{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"totalCount":5,"offset":0,"limit":100}},"__N_SSG":true}