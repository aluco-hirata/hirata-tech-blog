<!DOCTYPE html><html lang="ja"><head><link rel="icon" href="/favicon.ico"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/next-microcms-blog/_next/static/css/0e3018d1562d7c0fbe2d.css" as="style"/><link rel="stylesheet" href="/next-microcms-blog/_next/static/css/0e3018d1562d7c0fbe2d.css"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/main-55803f0d71b49d6b887b.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/webpack-ccf5ab034a524403276a.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/framework.52d24885832babe89a39.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/commons.016cfa363d497e2338e7.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/pages/_app-90585b619cc94ba640b5.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/d1fc93c0b22f39ffc1652f513cee2586a6dce45a.8ac2a9955f77445bf595.js" as="script"/><link rel="preload" href="/next-microcms-blog/_next/static/chunks/pages/blog/%5Bid%5D-2f96606f955c21c7ce45.js" as="script"/></head><body><div id="__next"><style data-emotion-css="1vj0ek4">.css-1vj0ek4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid #ccc;}.css-1vj0ek4 .logo{font-size:30px;font-weight:bold;}.css-1vj0ek4 .navlists{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;max-width:300px;}</style><header class="css-1vj0ek4"><div class="logo"><a href="/next-microcms-blog">Aluco blog</a></div><ul class="navlists"><li><a href="/next-microcms-blog/about">About</a></li><li><a href="/next-microcms-blog/contact">Contact</a></li></ul></header><div class="content-wrap"><main><div><h1>next.js .env.localについて</h1><div><p>Next.jsバージョン9.4以降から、環境変数の取り扱いが変更になっているようです。<br>サーバー側でに渡す環境変数は、.env.localで設定すれば良くて、<br>クライアント側からアクセスしたい環境変数は、.env.localに記載後、<br>next.config.jsで再度、設定するといい<br><br>.env.local</p><pre><code>API_KEY=XXXXXXXX
END_POINT=XXXXXXX
SLACK_WEBHOOK_URL=XXXXXXXXX</code></pre><p><br>next.config.js</p><pre><code>module.exports = { 
  env：{ 
    SLACK_WEBHOOK_URL:process.env.SLACK_WEBHOOK_URL
  }
};</code></pre><p><br><br>あれ、これでもconsoleから見えちゃう。。。</p></div></div></main><aside><div><h3>categories</h3><ul><li><a href="/next-microcms-blog/category/camp">キャンプ</a></li><li><a href="/next-microcms-blog/category/test-category">テストカテゴリ</a></li><li><a href="/next-microcms-blog/category/info">お知らせ</a></li><li><a href="/next-microcms-blog/category/design">デザイン</a></li><li><a href="/next-microcms-blog/category/coding">コーディング</a></li></ul></div></aside></div><footer>Footer</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"k3mdnc_2s","createdAt":"2020-08-25T08:29:13.221Z","updatedAt":"2020-08-25T08:38:54.232Z","publishedAt":"2020-08-25T08:29:13.221Z","title":"next.js .env.localについて","category":[{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"author":[{"id":"tbrqefyvy","createdAt":"2020-08-24T03:13:02.664Z","updatedAt":"2020-08-24T03:18:24.123Z","publishedAt":"2020-08-24T03:13:02.664Z","author":"平田"}],"body":"\u003cp\u003eNext.jsバージョン9.4以降から、環境変数の取り扱いが変更になっているようです。\u003cbr\u003eサーバー側でに渡す環境変数は、.env.localで設定すれば良くて、\u003cbr\u003eクライアント側からアクセスしたい環境変数は、.env.localに記載後、\u003cbr\u003enext.config.jsで再度、設定するといい\u003cbr\u003e\u003cbr\u003e.env.local\u003c/p\u003e\u003cpre\u003e\u003ccode\u003eAPI_KEY=XXXXXXXX\nEND_POINT=XXXXXXX\nSLACK_WEBHOOK_URL=XXXXXXXXX\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003enext.config.js\u003c/p\u003e\u003cpre\u003e\u003ccode\u003emodule.exports = { \n  env：{ \n    SLACK_WEBHOOK_URL:process.env.SLACK_WEBHOOK_URL\n  }\n};\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cbr\u003e\u003cbr\u003eあれ、これでもconsoleから見えちゃう。。。\u003c/p\u003e"},"categories":{"contents":[{"id":"evvbimxg3","createdAt":"2020-08-24T03:18:47.406Z","updatedAt":"2020-08-28T05:19:58.930Z","publishedAt":"2020-08-24T03:18:47.406Z","category":"キャンプ","url":"camp"},{"id":"wxg7y3xgl","createdAt":"2020-08-28T05:19:41.192Z","updatedAt":"2020-08-28T05:19:41.192Z","publishedAt":"2020-08-28T05:19:41.192Z","category":"テストカテゴリ","url":"test-category"},{"id":"tvu-5dzcj","createdAt":"2020-07-29T06:42:51.131Z","updatedAt":"2020-08-27T02:10:16.521Z","publishedAt":"2020-07-29T06:42:51.131Z","category":"お知らせ","url":"info"},{"id":"23fpo7oop","createdAt":"2020-07-29T06:42:39.341Z","updatedAt":"2020-08-27T02:10:23.591Z","publishedAt":"2020-07-29T06:42:39.341Z","category":"デザイン","url":"design"},{"id":"ha8yjhxnv","createdAt":"2020-07-29T06:42:25.509Z","updatedAt":"2020-08-27T02:10:32.695Z","publishedAt":"2020-07-29T06:42:25.509Z","category":"コーディング","url":"coding"}],"totalCount":5,"offset":0,"limit":100}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"k3mdnc_2s"},"buildId":"JtuuBJN4Bs7fdfEsdIkOC","assetPrefix":"/next-microcms-blog","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/next-microcms-blog/_next/static/chunks/polyfills-a5b86a38e61b63f3b3a9.js"></script><script src="/next-microcms-blog/_next/static/chunks/main-55803f0d71b49d6b887b.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/webpack-ccf5ab034a524403276a.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/framework.52d24885832babe89a39.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/commons.016cfa363d497e2338e7.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/pages/_app-90585b619cc94ba640b5.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/d1fc93c0b22f39ffc1652f513cee2586a6dce45a.8ac2a9955f77445bf595.js" async=""></script><script src="/next-microcms-blog/_next/static/chunks/pages/blog/%5Bid%5D-2f96606f955c21c7ce45.js" async=""></script><script src="/next-microcms-blog/_next/static/JtuuBJN4Bs7fdfEsdIkOC/_buildManifest.js" async=""></script><script src="/next-microcms-blog/_next/static/JtuuBJN4Bs7fdfEsdIkOC/_ssgManifest.js" async=""></script></body></html>